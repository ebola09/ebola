<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ebola arcade</title>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="assets/favicon.png">
    <style>
        :root {
            --bg-color: #0d0502;
            --text-color: #ff7b00;
            --link-color: #7A3307;
            --link-hover-color: #ff7b00;
            --card-border-color: #210D00;
            --card-overlay-color: rgba(33, 13, 0, 0.75);
            --bottombar-border-color: #7A3307;
            --bottombar-opacity: 0.6;
        }

        *, *::before, *::after { box-sizing: border-box; }

        body {
            margin: 0;
            font-family: 'IBM Plex Mono', monospace;
            background-color: var(--bg-color);
            color: var(--text-color);
            padding: 90px 0 40px;
            user-select: none;
        }

        input, textarea { user-select: text; }
        img { pointer-events: none; user-drag: none; }

        .topbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 40px;
            font-size: 20px;
            height: 90px;
            background-color: var(--bg-color);
            position: fixed;
            top: 0; left: 0; right: 0;
            z-index: 1000;
            border-bottom: 1px solid var(--bottombar-border-color);
        }

        .topbar .logo {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            align-items: center;
            height: 100%;
        }

        .topbar a {
            color: var(--link-color);
            text-decoration: none;
            margin-right: 20px;
            cursor: pointer;
            transition: color 0.2s;
        }

        .topbar a:hover,
        .topbar a.active,
        .topbar a.settings-open {
            color: var(--link-hover-color);
        }

        .topbar .logo svg {
            height: 60px;
            width: auto;
            color: var(--text-color);
        }

        .grid-section {
            max-width: 1200px;
            margin: 40px auto 0;
            padding: 0 40px;
        }

        .grid-title {
            color: var(--link-color);
            font-size: 14px;
            margin-bottom: 20px;
            text-transform: lowercase;
        }
        
        .tos-button {
            font-family: 'IBM Plex Mono', monospace;
    padding: 6px 12px;
    background-color: var(--bg-color);
    color: var(--text-color);
    border: 1px solid var(--card-border-color);
    border-radius: 3px;
    cursor: pointer;
    transition: background 0.2s, color 0.2s, border-color 0.2s;
}

.tos-button:hover {
    background-color: var(--card-overlay-color);
    border-color: var(--link-hover-color);
}

        #recentlyPlayedGrid,
        #gameGrid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 30px;
        }

        .card {
            width: 100%;
            aspect-ratio: 1/1;
            background-size: cover;
            background-position: center;
            border-radius: 4px;
            border: 2px solid var(--card-border-color);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: transform 0.2s, border-color 0.2s;
        }

        .card::after {
            content: attr(data-title);
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-size: 16px;
            color: var(--text-color);
            background: rgba(0,0,0,0);
            opacity: 0;
            transition: background 0.2s, opacity 0.2s;
        }

        .card:hover {
            transform: scale(1.05);
        }

        .card:hover::after {
            background: var(--card-overlay-color);
            opacity: 1;
        }

        .new-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: var(--bg-color);
            color: var(--text-color);
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            border: 1px solid var(--card-border-color);
            opacity: var(--bottombar-opacity);
        }

        .bottombar {
            position: fixed;
            bottom: 0; left: 0; right: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
            opacity: var(--bottombar-opacity);
            padding: 10px 40px;
            border-top: 1px solid var(--bottombar-border-color);
            font-size: 16px;
        }

        .settings-panel {
            position: fixed;
            top: 120px;
            right: 40px;
            width: 220px;
            background-color: var(--bg-color);
            color: var(--text-color);
            border: 2px solid var(--card-border-color);
            border-radius: 4px;
            padding: 20px;
            display: none;
            z-index: 2000;
            opacity: 0.95;
        }

        .settings-panel h3 {
            margin: 0 0 15px;
            font-size: 18px;
            border-bottom: 1px solid var(--bottombar-border-color);
            padding-bottom: 6px;
        }

        .settings-panel label,
        .settings-panel select,
        .settings-panel button {
            display: block;
            width: 100%;
            margin-bottom: 15px;
            font-family: 'IBM Plex Mono', monospace;
        }

        .settings-panel select,
        .settings-panel button {
            padding: 6px 8px;
            background-color: var(--bg-color);
            color: var(--text-color);
            border: 1px solid var(--card-border-color);
            border-radius: 3px;
            cursor: pointer;
        }

        .settings-panel button:hover {
            background-color: var(--card-overlay-color);
            border-color: var(--link-hover-color);
        }

        @media (max-width: 1200px) { #gameGrid, #recentlyPlayedGrid { grid-template-columns: repeat(4, 1fr); } }
        @media (max-width: 992px)  { #gameGrid, #recentlyPlayedGrid { grid-template-columns: repeat(3, 1fr); } }
        @media (max-width: 768px)  { #gameGrid, #recentlyPlayedGrid { grid-template-columns: repeat(2, 1fr); } }
        @media (max-width: 500px)  { #gameGrid, #recentlyPlayedGrid { grid-template-columns: 1fr; } }
    </style>
</head>

<script>
        // The sequence we want to detect
        const sequence = ['t', 'r', 'e', 'e'];
        let currentIndex = 0;

        // Listen for key presses
        document.addEventListener('keydown', (event) => {
            // Check if the key matches the current position in the sequence
            if (event.key.toLowerCase() === sequence[currentIndex]) {
                currentIndex++;
                // If we've completed the sequence, redirect
                if (currentIndex === sequence.length) {
                    window.location.href = 'tree.html';
                }
            } else {
                // Reset if the key doesn't match
                currentIndex = 0;
            }
        });
    </script>
<body>
    

    <div class="topbar">
        <div class="left">
            <a href="#" class="active">arcade</a>
            <a href="#">more coming soon</a>
        </div>
        <div class="logo">
  <svg width="251" height="88" viewBox="0 0 251 88" fill="none" xmlns="http://www.w3.org/2000/svg">
<g filter="url(#filter0_di_36_21)">
<path d="M172 75V62.5H182.375V50H213.625V37.5H182.375V25H224.125V37.5H234.5V75H244.875V87.5H224.125V75H213.625V62.5H192.875V75H213.625V87.5H182.375V75H172Z" fill="white"/>
</g>
<g filter="url(#filter1_di_36_21)">
<path d="M177.625 75H188.125V87.5H146.375V75H156.875V12.5H146.375V0H177.625V75Z" fill="white"/>
</g>
<g filter="url(#filter2_di_36_21)">
<path d="M104 75V37.5H114.375V25H156.125V37.5H166.5V75H156.125V87.5H114.375V75H104ZM124.875 75H145.625V37.5H124.875V75Z" fill="white"/>
</g>
<g filter="url(#filter3_di_36_21)">
<path d="M52 87.5V75H62.375V12.5H52V0H83.25V37.5H114.5V50H124.875V75H114.5V87.5H83.25V75H104.125V50H83.25V75H72.875V87.5H52Z" fill="white"/>
</g>
<g filter="url(#filter4_di_36_21)">
<path d="M0 75V37.5H10.375V25H52.125V37.5H62.5V62.5H20.875V75H52.125V87.5H10.375V75H0ZM20.875 37.5V50H41.625V37.5H20.875Z" fill="white"/>
</g>
<defs>
<filter id="filter0_di_36_21" x="172" y="25" width="78.875" height="66.5" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset dx="6"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_36_21"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_36_21" result="shape"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset dy="4"/>
<feGaussianBlur stdDeviation="2"/>
<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
<feBlend mode="normal" in2="shape" result="effect2_innerShadow_36_21"/>
</filter>
<filter id="filter1_di_36_21" x="146.375" y="0" width="47.75" height="91.5" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset dx="6"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_36_21"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_36_21" result="shape"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset dy="4"/>
<feGaussianBlur stdDeviation="2"/>
<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
<feBlend mode="normal" in2="shape" result="effect2_innerShadow_36_21"/>
</filter>
<filter id="filter2_di_36_21" x="104" y="25" width="68.5" height="66.5" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset dx="6"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_36_21"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_36_21" result="shape"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset dy="4"/>
<feGaussianBlur stdDeviation="2"/>
<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
<feBlend mode="normal" in2="shape" result="effect2_innerShadow_36_21"/>
</filter>
<filter id="filter3_di_36_21" x="52" y="0" width="78.875" height="91.5" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset dx="6"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_36_21"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_36_21" result="shape"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset dy="4"/>
<feGaussianBlur stdDeviation="2"/>
<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
<feBlend mode="normal" in2="shape" result="effect2_innerShadow_36_21"/>
</filter>
<filter id="filter4_di_36_21" x="0" y="25" width="68.5" height="66.5" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset dx="6"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_36_21"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_36_21" result="shape"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset dy="4"/>
<feGaussianBlur stdDeviation="2"/>
<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
<feBlend mode="normal" in2="shape" result="effect2_innerShadow_36_21"/>
</filter>
</defs>
</svg>
</div>

        <div class="right">
            <a id="settingsButton">(new theme) -> settings</a>
        </div>
    </div>

    <div class="grid-section">
        <h2 class="grid-title">recently played</h2>
        <div id="recentlyPlayedGrid"></div>
    </div>

    <div class="grid-section">
        <h2 class="grid-title">all games</h2>
        <div id="gameGrid"></div>
    </div>

    <div class="bottombar">Â© 2026 ebola | version 1.7.5</div>

    <div id="settingsPanel" class="settings-panel">
        <h3>settings</h3>
        <label for="themeSelect">theme:</label>
        <select id="themeSelect">
            <option value="orange">orange</option>
            <option value="purple">purple</option>
            <option value="green">green</option>
            <option value="teal">teal</option>
            <option value="rose">rose</option>
            <option value="ultramarine">ultramarine</option>
        </select>
        <button id="exportProgress">export game progress</button>
        <button id="importProgress">import game progress</button>
        <input type="file" id="importFile" accept=".json" style="display:none;">
    </div>

    <script>
        const MAX_RECENT = 5;
        const recentlyPlayedGrid = document.getElementById("recentlyPlayedGrid");
        const gameGrid = document.getElementById("gameGrid");
        const settingsButton = document.getElementById("settingsButton");
        const settingsPanel = document.getElementById("settingsPanel");
        const themeSelect = document.getElementById("themeSelect");
        const importButton = document.getElementById("importProgress");
        const importFile = document.getElementById("importFile");

        function getCookie(name) {
            const value = `; ${document.cookie}`;
            const parts = value.split(`; ${name}=`);
            return parts.length === 2 ? parts.pop().split(';').shift() : null;
        }
        function setCookie(name, value, days) {
            let expires = "";
            if (days) {
                const date = new Date();
                date.setTime(date.getTime() + days*24*60*60*1000);
                expires = "; expires=" + date.toUTCString();
            }
            document.cookie = `${name}=${value}${expires}; path=/`;
        }

        function getRecentlyPlayed() {
            const cookie = getCookie("recentlyPlayed");
            if (!cookie) return [];
            try { return JSON.parse(cookie); } catch { return []; }
        }

        function saveRecentlyPlayed(games) {
            setCookie("recentlyPlayed", JSON.stringify(games), 30);
        }

        function updateRecentlyPlayedUI(games) {
            recentlyPlayedGrid.innerHTML = "";
            if (!games.length) {
                recentlyPlayedGrid.innerHTML = "<p style='color: var(--link-color);'>you haven't played any games yet :(</p>";
                return;
            }
            games.forEach(game => {
                const card = document.createElement("a");
                card.href = game.path || "#";
                card.className = "card";
                card.style.backgroundImage = `url('${game.thumbnail || ""}')`;
                card.setAttribute("data-title", game.name || "Untitled");
                recentlyPlayedGrid.appendChild(card);
            });
        }

        function addRecentlyPlayed(game) {
            const recent = getRecentlyPlayed().filter(g => g.name !== game.name);
            recent.unshift(game);
            if (recent.length > MAX_RECENT) recent.pop();
            saveRecentlyPlayed(recent);
            updateRecentlyPlayedUI(recent);
        }

        document.addEventListener("DOMContentLoaded", () => updateRecentlyPlayedUI(getRecentlyPlayed()));

        if (!localStorage.getItem("gameProgress")) localStorage.setItem("gameProgress", "{}");

        document.getElementById("exportProgress").addEventListener("click", () => {
            const allStorage = {};
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                allStorage[key] = localStorage.getItem(key);
            }
            const blob = new Blob([JSON.stringify(allStorage, null, 2)], { type: "application/json" });
            const url = URL.createObjectURL(blob);
            const a = document.createElement("a");
            a.href = url;
            a.download = "localStorage_backup.json";
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        });

        importButton.addEventListener("click", () => importFile.click());
        importFile.addEventListener("change", e => {
            const file = e.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = () => {
                try {
                    localStorage.setItem("gameProgress", JSON.stringify(JSON.parse(reader.result)));
                    alert("Game progress imported successfully!");
                } catch {
                    alert("Invalid JSON file. Please select a valid game progress file.");
                }
            };
            reader.readAsText(file);
            e.target.value = "";
        });

        function setTheme(theme) {
    const colors = {
        orange: { bg:"#0d0502", text:"#913800", link:"#FF6200", hover:"#ff7b00", border:"#210D00", overlay:"rgba(33,13,0,0.75)", bottomBorder:"#FF6200", opacity:0.6, svgColor:"#FF6200" },
        purple: { bg:"#0D0012", text:"#A70EE8", link:"#5A077D", hover:"#A70EE8", border:"#310046", overlay:"rgba(49,0,70,0.75)", bottomBorder:"#5A077D", opacity:0.6, svgColor:"#A70EE8" },
        green:  { bg:"#000D00", text:"#0EE811", link:"#077408", hover:"#0EE811", border:"#004501", overlay:"rgba(7,116,8,0.75)", bottomBorder:"#077408", opacity:0.6, svgColor:"#0EE811" },
        teal:   { bg:"#00150F", text:"#0EE8CB", link:"#0A836D", hover:"#0EE8CB", border:"#004641", overlay:"rgba(0,31,33,0.75)", bottomBorder:"#0A836D", opacity:0.6, svgColor:"#0EE8CB" },
        rose:   { bg:"#120011", text:"#E80EB1", link:"#7D0767", hover:"#E80EB1", border:"#46002A", overlay:"rgba(73,24,65,0.75)", bottomBorder:"#7D0767", opacity:0.6, svgColor:"#E80EB1" },
        ultramarine:   { bg:"#001729", text:"#0055FF", link:"#005394", hover:"#0055FF", border:"#00335C", overlay:"rgba(0,22,39,0.75)", bottomBorder:"#005394", opacity:0.6, svgColor:"#0055FF" }
    };
    const c = colors[theme];

    const root = document.documentElement;
    root.style.setProperty('--bg-color', c.bg);
    root.style.setProperty('--text-color', c.text);
    root.style.setProperty('--link-color', c.link);
    root.style.setProperty('--link-hover-color', c.hover);
    root.style.setProperty('--card-border-color', c.border);
    root.style.setProperty('--card-overlay-color', c.overlay);
    root.style.setProperty('--bottombar-border-color', c.bottomBorder);
    root.style.setProperty('--bottombar-opacity', c.opacity);

    document.querySelectorAll('.tos-button').forEach(btn => {
        btn.style.backgroundColor = c.bg;
        btn.style.color = c.text;
        btn.style.borderColor = c.border;
    });

    const svg = document.querySelector('.topbar .logo svg');
    if (svg) svg.querySelectorAll('path').forEach(path => path.setAttribute('fill', c.svgColor));

    setCookie("theme", theme, 30);
}


        const savedTheme = getCookie("theme");
        if (savedTheme) {
            setTheme(savedTheme);
            themeSelect.value = savedTheme;
        } else {
            setCookie("theme", "orange", 30);
            setTheme("orange");
            themeSelect.value = "orange";
        }

        settingsButton.addEventListener("click", () => {
            const isOpen = settingsPanel.style.display === "block";
            settingsPanel.style.display = isOpen ? "none" : "block";
            settingsButton.classList.toggle('settings-open', !isOpen);
        });

        themeSelect.addEventListener("change", () => setTheme(themeSelect.value));

        fetch("gameList.json")
            .then(res => res.json())
            .then(data => {
                if (!data.games?.length) {
                    gameGrid.innerHTML = `<p style="color: var(--text-color);">No games found. Check gameList.json.</p>`;
                    return;
                }
                data.games.sort((a,b) => (a.name||"").toLowerCase().localeCompare((b.name||"").toLowerCase()));
                data.games.forEach(game => {
                    const card = document.createElement("a");
                    card.href = game.path || "#";
                    card.className = "card";
                    card.style.backgroundImage = `url('${game.thumbnail || ""}')`;
                    card.setAttribute("data-title", game.name || "Untitled");
                    card.addEventListener("click", () => addRecentlyPlayed(game));
                    if (game.tags && game.tags.includes("new")) {
                        const newBadge = document.createElement("div");
                        newBadge.className = "new-badge";
                        newBadge.textContent = "new";
                        card.appendChild(newBadge);
                    }
                    gameGrid.appendChild(card);
                });
            })
            .catch(err => {
                gameGrid.innerHTML = `<p style="color: var(--text-color);">Failed to load gameList.json</p>`;
                console.error("Error loading game list:", err);
            });

    </script>
</body>
</html>



