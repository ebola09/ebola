<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>tree</title>

    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@300;400;600&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'IBM Plex Mono', monospace;
            padding: 20px;
            background-color: #000;
        }
        ul {
            list-style: none;
            padding-left: 0;
        }
        li {
            margin: 6px 0;
        }
        a {
            color: #00ff1a;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
    </style>
    <script>
        window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
    </script>
    <script defer src="/_vercel/insights/script.js"></script>
</head>
<body>

<ul id="file-list"></ul>

<script>
const fileList = document.getElementById("file-list");

// GitHub API endpoint (NOT the normal GitHub URL)
const apiUrl =
  "https://api.github.com/repos/ebola09/ebola/contents/games?ref=cdef310d1c5e64e86390b041dc8fb4677f68edd1";

async function fetchFiles() {
    try {
        const response = await fetch(apiUrl);
        if (!response.ok) throw new Error("GitHub API error");

        const files = await response.json();

        files.forEach(file => {
            if (file.type === "file" && file.name.endsWith(".html")) {
                const li = document.createElement("li");
                const link = document.createElement("a");

                link.textContent = file.name;
                link.href = `/games/${file.name}`; // your local path

                li.appendChild(link);
                fileList.appendChild(li);
            }
        });
    } catch (err) {
        console.error(err);
        fileList.textContent = "Failed to load files.";
    }
}

fetchFiles();
</script>

</body>
</html>
